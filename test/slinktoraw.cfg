##################
#  Converting S-Link dumps to CMSSW raw data.
#  By Freya Blekman, Anders Ryd
#
process SLINKTORAW = 
{
 
   untracked PSet maxEvents = {untracked int32 input = 10 }

   # Input source module
#################################
# define any file from disk (prefix: "file:") castor (prefix "rfio:") or other framework supported locations in the fileNames vector:
# WARNING: Currently only supports the reading in of a SINGLE file. So the vector cannot be used properly.
#################################
   include "IORawData/SiPixelInputSources/data/PixelSLinkDataInputSource.cfi"
#   replace PixelSLinkDataInputSource.fileNames = {"file:/afs/cern.ch/user/d/dkotlins/public/data/PhysicsData_511.dmp"}
#   replace PixelSLinkDataInputSource.fileNames = {"rfio:/castor/cern.ch/user/d/dinardo/HC-Z1/HD2/Blades07_08_09/PixelAlive.09Aug07_1642.dmp"}
    replace PixelSLinkDataInputSource.fileNames = {"rfio:/castor/cern.ch/cms/store/TAC/PIXEL/FPIX/HC+Z1/PixelAlive_281.dmp"}
#    replace PixelSLinkDataInputSource.fileNames = {"rfio:/castor/cern.ch/cms/store/TAC/PIXEL/FPIX/HC+Z1/GainCalibration_298.dmp"}

#################################
# if using a non-standard configuration: re-define the FED id to the particular one you want to fake.
#################################
   replace PixelSLinkDataInputSource.fedid = -1



   # Message Logger
   service = MessageLogger {	
	untracked vstring destinations = {"cout"}
	untracked PSet cout = {untracked string threshold = "DEBUG"}
   }


   #module rawdump = PixelRawDump{
   #} 

   # module execution
   #path p = { rawdump }
   
   # Output module
    module out = PoolOutputModule
   { 		
   	untracked string fileName = "myfile.root"
   }

   # Timing service
 #   service = Timing {}

   endpath e = { out }
}
